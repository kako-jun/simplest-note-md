# GitHub同期

GitHubへの保存（Push）と取得（Pull）について説明します。

---

## GitHubへの保存（Push）

GitHub連携を設定している場合、編集内容をGitHubに保存できます。

### 保存方法

- フッターの「💾」ボタンをタップ
- または **Ctrl+S**（Macは **Cmd+S**）

### 未保存の変更

未保存の変更があると、保存ボタンに**赤い丸印**が表示されます。

### Stale警告

別のデバイスで編集された場合、Push前に警告が表示されます。上書きするか、先にPullするか選べます。

---

## GitHubからの取得（Pull）

GitHub上の最新データをブラウザに同期します。

### Pull方法

- ヘッダー左側の「⬇️」ボタンをタップ
- PWA版ではリロードボタンがないため、このボタンでPullします

### 自動Pull

アプリ起動時に自動的にPullが実行されます。

### バックグラウンドチェック

5分間隔でリモートの変更を自動チェックします。新しい変更がある場合、Pullボタンに赤い丸印が表示されます。

---

## データ保護機能

### ページ離脱時の確認

未保存の変更がある状態で、タブを閉じたりリロードしようとすると、ブラウザの確認ダイアログが表示されます。

- 誤って変更を失うのを防ぎます
- アプリ内のナビゲーションでは表示されません（自動保存のため）

### Stale進捗バー

ヘッダー左端に細い縦線（進捗バー）が表示されます。

- **5分間隔**でリモートの変更を自動チェック
- バーが上から下に伸び、満タンになるとチェック実行
- 他のデバイスで変更があった場合、Pullボタンに赤丸が表示される

> **💡 Tip**: 手動でPull/Pushすると、次のチェックまでのカウントダウンがリセットされます。

### Pull中の読み取り専用モード

Pull中は編集エリアに半透明のオーバーレイ（ガラス効果）がかかり、編集できなくなります。

- データの整合性を保つため
- Offlineリーフは例外（Pull中でも編集可能）

---

## 統計情報

ホーム画面右下に統計が表示されます。

| 項目         | 説明                 |
| ------------ | -------------------- |
| **リーフ数** | 作成したリーフの総数 |
| **文字数**   | 全リーフの総文字数   |
| **Push回数** | GitHubへのPush回数   |
