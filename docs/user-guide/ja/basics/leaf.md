# リーフの操作

実際にメモを書くリーフの作成・編集・移動・削除方法です。

---

## 作成

1. ノートの中で「**+📄**」ボタンをタップ
2. リーフ名を入力して「作成」

---

## 編集

リーフをタップするとエディタが開きます。Markdown形式で書けます。

### 自動保存

編集内容は自動的にブラウザ（IndexedDB）に保存されます。

#### 仕組み

- **デバウンス保存**: 最後のキー入力から**1秒後**に自動保存
- 連続して入力している間は保存されず、手が止まったタイミングで保存
- 画面上の表示は即座に更新（保存完了を待たずに反映）

#### Push前の保存

GitHubへのPush（保存ボタン、Ctrl+S、`:w`）を実行すると、保留中の自動保存が**即座に実行**されてからPushされます。

- 入力直後にPushしても、最新の内容が確実に保存される
- タイミングを気にせずPushできる

---

## タイトルと見出しの同期

リーフの1行目が `# 見出し` の場合、リーフのタイトルと自動同期します。

```markdown
# 今日の日記

今日はいい天気でした。
```

この場合、リーフタイトルは「今日の日記」になります。逆に、タイトルを変更すると1行目の見出しも更新されます。

---

## 並び替え

リーフカードを**ドラッグ&ドロップ**で並び替えできます。

---

## 移動

リーフを別のノートに移動できます。

1. リーフを開く
2. フッターの「移動」ボタンをタップ
3. 移動先のノートを選択
4. 「移動」をタップ

ノートも同様に移動できます。

---

## 削除

1. リーフを開く
2. フッターの「🗑️」ボタンをタップ
3. 確認ダイアログで「OK」

---

## ダウンロード

個別のリーフをローカルにダウンロードできます。

1. リーフを開く
2. フッターの「⬇️」ボタンをタップ
3. `.md`ファイルとしてダウンロード

> **💡 Tip**: テキストを選択した状態でダウンロードすると、選択範囲のみがダウンロードされます。
